@startuml
actor EducationDepartement as ED
actor SystemAdministrator as SA
participant Interface as I
participant newYearManager as nYM
participant studentManager as  sM
database BDD_Student as SB

title = Initialisation

== Updating students'new year infos ==

activate I

ED -> I : updateStudentInterface()
ED <- I : displayUpdateStudentInterface()

loop until Education Departement user leaves update menu 
  
  alt the student 'next year status' has to be changed

    ED -> I : studentInterface(studentID)
    activate sM
    I -> sM : user = loadStudent(studentID)
    sM -> SB : loadStudent(studentID)
    deactivate sM

    alt student doesn't exist

      ED <- I : displayMessage("The student " + studentID + "doesn't exist)

    else student does exist

      ED <- I : displayUpdateStudentInterface(user)
      ED -> I : updateStudent(studentInfos)
      activate sM
      I -> sM : updateStudent(studentID,studentInfos)
      sM -> SB : updateStudent(studentID,studentInfos)
      deactivate sM
      ED <- I : displayMessage("The student " + userID + "has been updated")

    end

  end

end

deactivate I

== Migration ==

SA -> I : initYear()
I -> nYM : initYear()
nYM -> SB : updateYear()


@enduml
