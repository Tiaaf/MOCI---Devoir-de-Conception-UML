@startuml
actor EducationDepartement as ED
actor SystemAdministrator as SA
participant Interface as I
participant newYearManager as nYM
participant studentManager as  sM
database Student_DB as SDB

title = Initialisation

== Updating students'infos ==



ED -> I : openUpdateStudentInterface()
activate I
ED <- I : displayUpdateStudentInterface()

loop while !userLeft 
  
  alt updateStatus

    ED -> I : studentInterface(studentID)
   
    I -> sM : user = loadStudent(studentID)
     activate sM
    sM -> SDB : loadStudent(studentID)
    deactivate sM

    alt !studentExists

      ED <- I : displayMessage("The student " + studentID + "doesn't exist)

    else studentExists
      
      ED <- I : displayUpdateStudentInterface(user)
      ED -> I : updateStudent(studentInfos)
      
      I -> sM : updateStudent(studentID,studentInfos)
      activate sM
      sM -> SDB : updateStudent(studentID,studentInfos)
      deactivate sM
      I <- SDB : displayMessage("The student " + userID + "has been updated")
      ED <- I : displayMessage("The student " + userID + "has been updated")
      deactivate I
    end

  end

end



== Migration ==

SA -> I : initYear()
activate I
I -> nYM : initYear()
activate nYM
nYM -> SDB : updateYear()
deactivate nYM
I <- SDB : displayMessage("The initialisation of the year is done")
SA <- I : displayMessage("The initialisation of the year is done")
deactivate I
@enduml
